<form
  materialize
  (ngSubmit)="saveUser()"
  [formGroup]="regForm"
  class="register-form"
  >

  <h4 class="mar-bot-h">{{title}}</h4>
  <h6 class="mar-bot-3">{{description}}</h6>

  <div class="input-field">
    <input
      formControlName="userName"
      type="text"
      id="userName"
    />
    <label for="userName">Username</label>
    <!--<label [ngClass]="{'active': selectedUser?.userName}" for="userName">Username</label>-->
  </div>
  <p *ngIf="formErrors.userName" class="input-error-msg">{{formErrors.userName}}</p>
  <p *ngIf="formSubmitted && !regForm.valid && regForm.controls['userName'].value === null" class="input-error-msg">Username required</p>

  <div class="input-field">
    <input
      formControlName="email"
      type="email"
      id="email"
    />
    <label for="email">Email</label>
    <!--<label [ngClass]="{'active': selectedUser?.email}" for="email">Email</label>-->
  </div>
  <p *ngIf="formErrors.email" class="input-error-msg">{{formErrors.email}}</p>
  <p *ngIf="formSubmitted && !regForm.valid && regForm.controls['email'].value === null" class="input-error-msg">Email required</p>

  <div class="input-field">
    <input
      formControlName="password"
      type="password"
      id="password"
    />
    <label for="password">Password</label>
    <!--<label [ngClass]="{'active': selectedUser?.password}" for="password">Password</label>-->
  </div>
  <p *ngIf="formErrors.password" class="input-error-msg">{{formErrors.password}}</p>
  <p *ngIf="formSubmitted && !regForm.valid && regForm.controls['password'].value === null" class="input-error-msg">Password required</p>

  <div class="input-field">
    <input
      formControlName="passwordConfirm"
      (blur)="checkPasswordMatch(regForm.controls['password'].value, $event.target.value)"
      type="password"
      id="passwordConfirm"
    />
    <label for="passwordConfirm">Password Confirm</label>
    <!--<label [ngClass]="{'active': selectedUser?.password}" for="passwordConfirm">Password Confirm</label>-->
  </div>
  <p *ngIf="formErrors.passwordConfirm" class="input-error-msg">{{formErrors.passwordConfirm}}</p>
  <p *ngIf="passwordError && regForm.controls['passwordConfirm'].dirty" class="input-error-msg teal-text">Password match.</p>
  <p *ngIf="!passwordError && regForm.controls['passwordConfirm'].touched && regForm.controls['passwordConfirm'].dirty" class="input-error-msg">Passwords do not match.</p>
  <p *ngIf="formSubmitted && !regForm.valid && regForm.controls['passwordConfirm'].value === null" class="input-error-msg">Password confirm required</p>

  <div class="input-field">
    <input
      formControlName="firstName"
      type="text"
      id="firstName"
    />
    <label for="firstName">First Name</label>
    <!--<label [ngClass]="{'active': selectedUser?.firstName}" for="firstName">First Name</label>-->
  </div>
  <p *ngIf="formErrors.firstName" class="input-error-msg">{{formErrors.firstName}}</p>
  <p *ngIf="formSubmitted && !regForm.valid && regForm.controls['firstName'].value === null" class="input-error-msg">First name required</p>

  <div class="input-field">
    <input
      formControlName="lastName"
      type="text"
      id="lastName"
    />
    <label for="lastName">Last Name</label>
    <!--<label [ngClass]="{'active': selectedUser?.lastName}" for="lastName">Last Name</label>-->
  </div>
  <p *ngIf="formErrors.lastName" class="input-error-msg">{{formErrors.lastName}}</p>
  <p *ngIf="formSubmitted && !regForm.valid && regForm.controls['lastName'].value === null" class="input-error-msg">Last name required</p>

  <ng-container *ngIf="errorMsg">
    <app-error-validation [errorMsg]="errorMsg"></app-error-validation>
  </ng-container>

  <button
    #button
    type="submit"
    class="waves-effect waves-light btn-large btn-expand mar-top-3">
    Sign Up
  </button>

</form>
