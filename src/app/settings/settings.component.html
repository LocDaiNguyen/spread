<div class="row">
  <div class="col s12">

    <form
      materialize
      *ngIf="settings"
      (ngSubmit)="saveSettings()"
      [formGroup]="settingsForm"
      class="settings-form"
    >

      <div class="row">
        <div class="col s12 m10 offset-m1 l8 offset-l2">

          <h4 class="mar-bot-h">Pool Settings</h4>
          <h6 class="mar-bot-3">Set number of picks allowed.</h6>

          <div class="input-field">
            <input
              formControlName="picksAllowed"
              type="number"
              min="1"
              step="1"
              id="picksAllowed"
            />
            <label [ngClass]="{'active': settings?.picksAllowed}" for="picksAllowed">Picks Allowed</label>
          </div>
          <p *ngIf="formErrors.picksAllowed" class="input-error-msg">{{formErrors.picksAllowed}}</p>
          <p *ngIf="formSubmitted && !settingsForm.valid && settingsForm.controls['picksAllowed'].value === null" class="input-error-msg">Picks Allowed required</p>

          <ng-container *ngIf="errorMsg">
            <app-error-validation [errorMsg]="errorMsg"></app-error-validation>
          </ng-container>
          <ng-container *ngIf="successMsg">
            <app-success-validation [successMsg]="successMsg"></app-success-validation>
          </ng-container>

          <button
            #button
            type="submit"
            class="waves-effect waves-light btn-large btn-expand mar-top-3">
            Save
          </button>

        </div>
      </div>

    </form>

    <app-no-data
      *ngIf="noData"
      [errorMsg]="'Please add settings to populate this page.'">
    </app-no-data>
    
    <app-error-server *ngIf="error"></app-error-server>

  </div>
</div>